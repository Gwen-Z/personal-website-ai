# AI服务配置指南

## 🚀 云AI服务集成

本项目已集成云AI服务，支持多种AI提供商，无需本地部署AI模型。

## 📋 支持的AI服务

### 1. OpenAI GPT
- **模型**: GPT-3.5-turbo
- **特点**: 响应快速，成本较低
- **适用**: 一般分析任务

### 2. Anthropic Claude
- **模型**: Claude-3-Sonnet
- **特点**: 分析深入，建议更专业
- **适用**: 深度分析和建议

## 🔧 配置步骤

### 1. 获取API密钥

#### OpenAI配置
1. 访问 [OpenAI官网](https://platform.openai.com/)
2. 注册账号并登录
3. 进入API Keys页面
4. 创建新的API密钥
5. 复制密钥（注意保密）

#### Anthropic配置
1. 访问 [Anthropic官网](https://console.anthropic.com/)
2. 注册账号并登录
3. 进入API Keys页面
4. 创建新的API密钥
5. 复制密钥（注意保密）

### 2. 设置环境变量

在 `backend` 目录下创建 `.env` 文件：

```bash
# 选择其中一个AI服务提供商

# OpenAI配置
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1

# Anthropic配置
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_BASE_URL=https://api.anthropic.com/v1

# 服务器配置
PORT=3001
```

### 3. 安装依赖

```bash
cd backend
npm install axios
```

### 4. 启动服务

```bash
cd backend
node app.js
```

## 🎯 AI功能特性

### 智能分析
- **数据趋势分析**: 自动识别各维度的发展趋势
- **个性化建议**: 基于用户数据提供定制化建议
- **成长路径规划**: 提供长期发展建议

### 分析维度
- **心情状态**: 情绪管理和心理健康建议
- **生活状态**: 生活规律和健康习惯建议
- **学习状态**: 学习方法和效率提升建议
- **工作状态**: 工作效率和职业发展建议
- **灵感状态**: 创造力和创新思维建议

### 时间周期
- **全部时间**: 基于所有历史数据
- **最近一周**: 短期趋势分析
- **最近一月**: 月度总结和建议
- **最近一季**: 季度回顾和规划
- **最近一年**: 年度总结和展望

## 💡 使用建议

### 1. 数据质量
- 保持记录的连续性和准确性
- 使用描述性的文字记录状态
- 定期回顾和调整记录方式

### 2. 分析频率
- 建议每周进行一次AI分析
- 每月进行深度分析
- 每季度进行总结回顾

### 3. 成本控制
- OpenAI: 约 $0.002/1K tokens
- Anthropic: 约 $0.003/1K tokens
- 每次分析约消耗 500-1000 tokens

## 🔒 安全注意事项

1. **API密钥安全**
   - 不要将密钥提交到代码仓库
   - 使用环境变量存储密钥
   - 定期轮换API密钥

2. **数据隐私**
   - 所有数据仅用于本地分析
   - 不会向第三方分享数据
   - 可以随时删除本地数据

3. **网络安全**
   - 使用HTTPS连接
   - 验证API端点安全性
   - 监控API调用频率

## 🛠️ 故障排除

### 常见问题

1. **API调用失败**
   - 检查API密钥是否正确
   - 确认网络连接正常
   - 验证API配额是否充足

2. **分析结果不准确**
   - 检查数据记录质量
   - 增加数据记录数量
   - 调整分析时间范围

3. **响应速度慢**
   - 检查网络延迟
   - 考虑使用更快的AI模型
   - 优化提示词长度

### 备用方案

如果AI服务不可用，系统会自动切换到模拟分析模式，提供基础的分析和建议。

## 📈 性能优化

1. **缓存机制**: 相同数据的分析结果会被缓存
2. **异步处理**: AI分析在后台进行，不阻塞用户界面
3. **错误恢复**: 自动重试和降级处理
4. **资源监控**: 实时监控API使用情况

## 🎉 开始使用

1. 配置API密钥
2. 启动后端服务
3. 添加一些测试数据
4. 访问AI分析页面
5. 享受智能化的个人成长建议！

---

*配置完成后，您的个人数据分析系统将具备真正的AI智能分析能力！* 